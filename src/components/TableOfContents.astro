---
const { headings } = Astro.props;

const toc = headings.filter(heading => heading.depth <= 3);
---

<nav class="table-of-contents">
  <h2 class="text-2xl font-bold mb-6 text-tech-primary">Table of Contents</h2>
  <ul class="space-y-3">
    {toc.map(heading => (
      <li>
        <a
          href={`#${heading.slug}`}
          class={`
            block transition-colors hover:text-tech-primary
            ${heading.depth === 1 ? 'text-lg font-semibold text-tech-primary' : ''}
            ${heading.depth === 2 ? 'pl-4 text-tech-secondary' : ''}
            ${heading.depth === 3 ? 'pl-8 text-tech-secondary/80 text-sm' : ''}
          `}
        >
          {heading.text}
        </a>
      </li>
    ))}
  </ul>
</nav>